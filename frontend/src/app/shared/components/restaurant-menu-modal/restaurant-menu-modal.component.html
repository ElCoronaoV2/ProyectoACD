<div class="modal-backdrop" (click)="onBackdropClick($event)">
    <div class="modal-container">
        <!-- Header with close button -->
        <div class="modal-header">
            <div class="header-content">
                <h2>{{ local.nombre }}</h2>
                <div class="rating">
                    <span *ngFor="let star of getStars(local.valoracion)" class="star">{{ star }}</span>
                    <span class="rating-value">{{ local.valoracion || 'N/A' }}</span>
                </div>
            </div>
            <button class="close-btn" (click)="onClose()">‚úï</button>
        </div>

        <!-- Restaurant info -->
        <div class="restaurant-info">
            <img *ngIf="local.imagenUrl" [src]="local.imagenUrl" [alt]="local.nombre" class="restaurant-image" />
            <div class="info-details">
                <p><strong>üìç Direcci√≥n:</strong> {{ local.direccion }}</p>
                <p *ngIf="local.horario"><strong>üïê Horario:</strong> {{ local.horario }}</p>
                <p *ngIf="local.capacidad"><strong>üë• Capacidad:</strong> {{ local.capacidad }} personas</p>
            </div>
        </div>

        <!-- Menu section -->
        <div class="menu-section">
            <h3>üçΩÔ∏è Men√∫</h3>

            <div *ngIf="menus.length === 0" class="no-menu">
                <p>No hay platos disponibles en este momento.</p>
            </div>

            <div class="menu-grid" *ngIf="menus.length > 0">
                <div *ngFor="let item of menus" class="menu-item" [class.unavailable]="!item.disponible">
                    <div class="menu-item-header">
                        <h4>{{ item.nombre }}</h4>
                        <span class="price">{{ item.precio | number:'1.2-2' }}‚Ç¨</span>
                    </div>
                    <p *ngIf="item.descripcion" class="description">{{ item.descripcion }}</p>
                    <p *ngIf="item.ingredientes" class="ingredients">
                        <strong>Ingredientes:</strong> {{ item.ingredientes }}
                    </p>
                    <div *ngIf="item.alergenos" class="allergens">
                        <span class="allergen-label">‚ö†Ô∏è Al√©rgenos:</span>
                        <span *ngFor="let a of formatAlergenos(item.alergenos)" class="allergen-tag">{{ a }}</span>
                    </div>
                    <div *ngIf="!item.disponible" class="unavailable-badge">No disponible</div>
                </div>
            </div>
        </div>
    </div>
</div>